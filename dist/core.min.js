!function(a){if(typeof exports!=="undefined"&&exports)Object.keys(a).map(function(b){exports[b]=a[b]});else if(typeof window!=="undefined"&&window)window.KorUtil=a;else console.error("GLOBAL OBJECT NOT FOUND")}(function(c){const d=typeof KorUtil!="undefined"&&KorUtil||{modules:{}};d.modules[c]=true;d._test=function(u){};d.isKoreanPhoneme=function(v,w){v=(v!=null?String(v):v)[0];return/^[\u3131-\u3163]/.test(v)||w&&!!r.indexOf(v)||false};d.isConsonant=function(x,y){x=(x!=null?String(x):x)[0];return/^[\u3131-\u314e]/.test(x)||y&&!!(1+s.indexOf(x))||false};d.isFirstSound=function(z,A){z=(z!=null?String(z):z)[0];return A&&!!(1+s.indexOf(z))||!!(1+s.indexOf(g(z)))||false};d.isVowel=d.isMidSound=function(B,C){B=(B!=null?String(B):B)[0];var D=B.charCodeAt(0);return/^[\u314f-\u3163]/.test(B)||C&&p<=r.indexOf(B.substring(0,1))||false};d.isLastSound=function(E,F){E=(E!=null?String(E):E)[0];return F&&!!(1+t.indexOf(E))||!!(1+t.indexOf(g(E)))||false};d.convertAlphabetToPhoneme=function(G,H,I){var J;if(typeof H=="boolean"||typeof H!="string"&&typeof I=="string"){J=H;H=I}else J=I;if(r.indexOf(G)>=0)return f(G);if(J)for(var K=0;K<r.length;K++)if(r[K].toLowerCase()==G.toLowerCase())return f(r[K]);return H===undefined?G:H};d.convertPhonemeToAlphabet=function(L,M){return/^[\u3131-\u3163]$/i.test(L)?g(L):M===undefined?L:M};d.isKoreanChar=function(N){return/^[\uac00-\ud7a3]/.test(N)};d.isKorean=function(O){return/^[\u3131-\u3163\uac00-\ud7a3]+$/.test(O)};d.indexOfKorean=function(P){var Q=P.match(/[\u3131-\u3163\uac00-\ud7a3]/);return Q?Q.index:-1};d.indexOfKoreanChar=function(R){var S=R.match(/[\uac00-\ud7a3]/);return S?S.index:-1};d.indexOfKoreanPhoneme=function(T){var U=T.match(/[\u3131-\u3163]/);return U?U.index:-1};d.hasLastSound=function(V){var W=V.substr(-1).charCodeAt(0)||0;if(W<k)return false;if(W>=k+l)return false;W-=k;return W%m>0};d.koreanify=function(X){return e(X)};d.qwerty=function(Y){return d.split(Y).split("").map(function(Z){if(d.isKoreanChar(Z))return d.split(Z).split("").map($=>d.qwerty($)).join("");if(d.isKoreanPhoneme(Z))return r[Z.charCodeAt(0)-o];return Z}).join("")};d.split=function(_){return _.split("").map(function(aa){if(!d.isKoreanChar(aa))return aa;var ba=["","",""],ca=aa.charCodeAt(0)-k,da;da=ca%m;ba[2]=t[da];ba[2]=ba[2]&&String.fromCharCode(o+r.indexOf(ba[2]))||"";da=ca%n;da=Math.floor(da/m);ba[1]=String.fromCharCode(o+p+da);da=Math.floor(ca/n);ba[0]=s[da];ba[0]=String.fromCharCode(o+r.indexOf(ba[0]));return ba.join("")}).join("")};d.spread=function(ea){return ea.split("").map(function(fa){if(!d.isKorean(fa))return fa;return d.qwerty(fa).split("").map(ga=>f(ga)).join("")}).join("")};d.compress=function(ha){return e(ha.split("").map(ia=>d.isKoreanPhoneme(ia)?g(ia):ia).join(""))};function e(ja){function ka(ra){if(ra.length==0)return"";if(ra.length==1)return String.fromCharCode(o+r.indexOf(s[ra[0]]));if(ra.length==2&&ra[0]==null)return String.fromCharCode(o+p+ra[1]);var sa=k;if(ra.length)sa+=ra.shift()*n;if(ra.length)sa+=ra.shift()*m;if(ra.length)sa+=ra.shift();return String.fromCharCode(sa)+(ra.length?ka(ra):"")}if(!ja)return"";var la="",ma=[];for(var na=0;na<ja.length;na++){var oa=ja.charAt(na),pa=oa+(na<ja.length-1?ja.charAt(na+1):"_"),qa=na<ja.length-2?ja.charAt(na+2):"_";if(ma.length!=1&&d.isVowel(oa,1)){if(ma.length>1)--na;else{if(d.isVowel(pa,1)){++na;la+=ka([null,i(pa)])}else la+=ka([null,i(oa)]);continue}}else switch(ma.length){case 0:if(d.isFirstSound(oa,1)){ma.push(h(oa));continue}break;case 1:if(d.isMidSound(pa,1)&&d.convertAlphabetToPhoneme(pa).length==1){++na;ma.push(i(pa));continue}if(d.isMidSound(oa,1)){ma.push(i(oa));continue}break;case 2:if(d.isLastSound(pa,1)&&d.convertAlphabetToPhoneme(pa).length==1&&!d.isVowel(qa,1)){++na;ma.push(j(pa))}else if(d.isLastSound(oa,1)&&!d.isVowel(pa[1],1)){ma.push(j(oa))}if(ma.length>2)++na;break}if(ma.length){la+=ka(ma);ma=[];na--}else la+=oa}return la+ka(ma)}function f(ta){return String.fromCharCode(o+r.indexOf(ta))}function g(ua,va){return r[ua.charCodeAt(0)-o]}function h(wa){return s.indexOf(wa)}function i(xa){var ya=r.indexOf(xa)-p;return ya<0?-1:ya}function j(za){return t.indexOf(za)}const k=44032;const l=11172;const m=28;const n=588;d.getCharCodeAtKoreanCharBegin=function(){return k};d.getKoreanCharCount=function(){return l};d.getKoreanCharCountPerFirstSound=function(){return n};d.getKoreanCharCountPerMidSound=function(){return m};const o=12593;const p=30;const q=21;d.getCharCodeAtKoreanPhonemeBegin=function(){return o};d.getKoreanConsonantCount=function(){return p};d.getKoreanVowelCount=function(){return q};const r=["r","R","rt","s","sw","sg","e","E","f","fr","fa","fq","ft","fx","fv","fg","a","q","Q","qt","t","T","d","w","W","c","z","x","v","g","k","o","i","O","j","p","u","P","h","hk","ho","hl","y","n","nj","np","nl","b","m","ml","l"];const s=["r","R","s","e","E","f","a","q","Q","t","T","d","w","W","c","z","x","v","g"];const t=["","r","R","rt","s","sw","sg","e","f","fr","fa","fq","ft","fx","fv","fg","a","q","qt","t","T","d","w","c","z","x","v","g"];return d}("core"));