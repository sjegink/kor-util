!function(n){try{window.document instanceof(window.HTMLDocument||window.Document)&&n(window.KorUtil||(window.KorUtil={}))}catch(n){}try{module&&module.exports&&(module.exports=t=>n(t))}catch(n){}}((function(n){function t(t){function e(n){if(0==n.length)return"";if(1==n.length)return String.fromCharCode(c+d.indexOf(l[n[0]]));if(2==n.length&&null==n[0])return String.fromCharCode(c+h+n[1]);var t=u;return n.length&&(t+=n.shift()*s),n.length&&(t+=n.shift()*a),n.length&&(t+=n.shift()),String.fromCharCode(t)+(n.length?e(n):"")}if(!t)return"";for(var r,f="",g=[],C=0;C<t.length;C++){var m=t.charAt(C),p=m+(C<t.length-1?t.charAt(C+1):"_"),x=C<t.length-2?t.charAt(C+2):"_";if(1!=g.length&&n.isVowel(m,1)){if(!(g.length>1)){n.isVowel(p,1)?(++C,f+=e([null,o(p)])):f+=e([null,o(m)]);continue}}else switch(g.length){case 0:if(n.isFirstSound(m,1)){g.push((r=m,l.indexOf(r)));continue}break;case 1:if(n.isMidSound(p,1)&&1==n.convertAlphabetToPhoneme(p).length){++C,g.push(o(p));continue}if(n.isMidSound(m,1)){g.push(o(m));continue}break;case 2:n.isLastSound(p,1)&&1==n.convertAlphabetToPhoneme(p).length&&!n.isVowel(x,1)?(++C,g.push(i(p))):n.isLastSound(m,1)&&!n.isVowel(p[1],1)&&g.push(i(m)),g.length>2&&++C}g.length?(f+=e(g),g=[],C--):f+=m}return f+e(g)}function e(n){return String.fromCharCode(c+d.indexOf(n))}function r(n,t){return d[n.charCodeAt(0)-c]}function o(n){var t=d.indexOf(n)-h;return t<0?-1:t}function i(n){return g.indexOf(n)}n.isKoreanPhoneme=function(n,t){return n=(null!=n?String(n):n)[0],/^[\u3131-\u3163]/.test(n)||t&&!!d.indexOf(n)||!1},n.isConsonant=function(n,t){return n=(null!=n?String(n):n)[0],/^[\u3131-\u314e]/.test(n)||t&&!!(1+l.indexOf(n))||!1},n.isFirstSound=function(n,t){return n=(null!=n?String(n):n)[0],t&&!!(1+l.indexOf(n))||!!(1+l.indexOf(r(n)))||!1},n.isVowel=n.isMidSound=function(n,t){(n=null!=n?String(n):n).charCodeAt(0);return/^[\u314f-\u3163]/.test(n)||t&&h<=d.indexOf(n)||!1},n.isLastSound=function(n,t){return n=(null!=n?String(n):n)[0],t&&!!(1+g.indexOf(n))||!!(1+g.indexOf(r(n)))||!1},n.convertAlphabetToPhoneme=function(n,t,r){var o;if("boolean"==typeof t||"string"!=typeof t&&"string"==typeof r?(o=t,t=r):o=r,d.indexOf(n)>=0)return e(n);if(o)for(var i=0;i<d.length;i++)if(d[i].toLowerCase()==n.toLowerCase())return e(d[i]);return void 0===t?n:t},n.convertPhonemeToAlphabet=function(n,t){return/^[\u3131-\u3163]$/i.test(n)?r(n):void 0===t?n:t},n.isKoreanChar=function(n){return/^[\uac00-\ud7a3]/.test(n)},n.isKorean=function(n){return/^[\u3131-\u3163\uac00-\ud7a3]+$/.test(n)},n.indexOfKorean=function(n){var t=n.match(/[\u3131-\u3163\uac00-\ud7a3]/);return t?t.index:-1},n.indexOfKoreanChar=function(n){var t=n.match(/[\uac00-\ud7a3]/);return t?t.index:-1},n.indexOfKoreanPhoneme=function(n){var t=n.match(/[\u3131-\u3163]/);return t?t.index:-1},n.hasLastSound=function(n){var t=n.substr(-1).charCodeAt(0)||0;return!(t<u)&&(!(t>=u+f)&&(t-=u)%a>0)},n.koreanify=function(n){return t(n)},n.qwerty=function(t){return n.split(t).split("").map((function(t){return n.isKoreanChar(t)?n.split(t).split("").map((t=>n.qwerty(t))).join(""):n.isKoreanPhoneme(t)?d[t.charCodeAt(0)-c]:t})).join("")},n.split=function(t){return t.split("").map((function(t){if(!n.isKoreanChar(t))return t;var e,r=["","",""],o=t.charCodeAt(0)-u;return e=o%a,r[2]=g[e],r[2]=r[2]&&String.fromCharCode(c+d.indexOf(r[2]))||"",e=o%s,e=Math.floor(e/a),r[1]=String.fromCharCode(c+h+e),e=Math.floor(o/s),r[0]=l[e],r[0]=String.fromCharCode(c+d.indexOf(r[0])),r.join("")})).join("")},n.spread=function(t){return t.split("").map((function(t){return n.isKorean(t)?n.qwerty(t).split("").map((n=>e(n))).join(""):t})).join("")},n.compress=function(e){return t(e.split("").map((t=>n.isKoreanPhoneme(t)?r(t):t)).join(""))};const u=44032,f=11172,a=28,s=588;n.getCharCodeAtKoreanCharBegin=function(){return u},n.getKoreanCharCount=function(){return f},n.getKoreanCharCountPerFirstSound=function(){return s},n.getKoreanCharCountPerMidSound=function(){return a};const c=12593,h=30;n.getCharCodeAtKoreanPhonemeBegin=function(){return c},n.getKoreanConsonantCount=function(){return h},n.getKoreanVowelCount=function(){return 21};const d=["r","R","rt","s","sw","sg","e","E","f","fr","fa","fq","ft","fx","fv","fg","a","q","Q","qt","t","T","d","w","W","c","z","x","v","g","k","o","i","O","j","p","u","P","h","hk","ho","hl","y","n","nj","np","nl","b","m","ml","l"],l=["r","R","s","e","E","f","a","q","Q","t","T","d","w","W","c","z","x","v","g"],g=["","r","R","rt","s","sw","sg","e","f","fr","fa","fq","ft","fx","fv","fg","a","q","qt","t","T","d","w","c","z","x","v","g"];return n}));